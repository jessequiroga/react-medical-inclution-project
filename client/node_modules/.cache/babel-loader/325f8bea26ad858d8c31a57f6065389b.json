{"ast":null,"code":"var _jsxFileName = \"/Users/etl/Documents/react-medical-inclution-project/src/components/auth/login1.js\";\nimport React, { useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Axios from 'axios';\nimport UserContext from '../context/UserContext';\nimport { useTranslation } from 'react-i18next';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport Grid from '@material-ui/core/Grid';\nimport Errormsg from './errormsg';\nimport Nav from \"../nav\";\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: \"14px\",\n    color: \"black\",\n    fontSize: \"16px\",\n    backgroundColor: \"#57EBEB\",\n    minHeight: \"75px\",\n    minWidth: \"200px !important\",\n    borderRadius: \"46px\"\n  },\n  labelAligne: {\n    textAlign: \"left\",\n    marginLeft: 16\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: 'white',\n    backgroundColor: '#eb57577a'\n  },\n  content: {\n    paddingBottom: \"600px\",\n    paddingTop: \"39px\"\n  }\n}));\nexport default function Login1() {\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const classes = useStyles();\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState(\"\");\n  const {\n    setUserData\n  } = useContext(UserContext);\n  const history = useHistory();\n\n  const submit = async e => {\n    e.preventDefault();\n\n    try {\n      const loginUser = {\n        email,\n        password\n      };\n      const loginRes = await Axios.post(`${BACK_SERVER_URL}/user/login`, loginUser);\n      setUserData({\n        token: loginRes.data.token,\n        user: loginRes.data.user\n      });\n      localStorage.setItem(\"auth-token\", loginRes.data.token);\n      history.push(\"/homepage\"); //window.location = '/homepage';\n    } catch (err) {\n      err.response.data.msg && setError(err.response.data.msg);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.labelAligne,\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"form\",\n    style: {\n      textAlign: \"center\",\n      width: 700,\n      backgroundColor: \"#f18888\",\n      color: \"white\",\n      borderRadius: 5,\n      height: 53\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 16\n    }\n  }, t('registration.login')), error && /*#__PURE__*/React.createElement(Errormsg, {\n    message: error,\n    clearError: () => setError(undefined),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"login-email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 20\n    }\n  }, t('registration.email')), /*#__PURE__*/React.createElement(Input, {\n    id: \"login-email\",\n    type: \"email\",\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 20\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"login-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 20\n    }\n  }, t('registration.password')), /*#__PURE__*/React.createElement(Input, {\n    id: \"login-password\",\n    type: \"password\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 20\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 8\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/etl/Documents/react-medical-inclution-project/src/components/auth/login1.js"],"names":["React","useState","useContext","useHistory","makeStyles","Axios","UserContext","useTranslation","FormControl","InputLabel","Input","Grid","Errormsg","Nav","useStyles","theme","button","margin","color","fontSize","backgroundColor","minHeight","minWidth","borderRadius","labelAligne","textAlign","marginLeft","paper","padding","spacing","content","paddingBottom","paddingTop","Login1","t","i18n","classes","email","setEmail","password","setPassword","error","setError","setUserData","history","submit","e","preventDefault","loginUser","loginRes","post","BACK_SERVER_URL","token","data","user","localStorage","setItem","push","err","response","msg","width","height","undefined","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,GAAP,MAAgB,QAAhB;AAEA,MAAMC,SAAS,GAAGV,UAAU,CAAEW,KAAD,KAAY;AACrCC,EAAAA,MAAM,EAAE;AACJC,IAAAA,MAAM,EAAE,MADJ;AAEJC,IAAAA,KAAK,EAAE,OAFH;AAGJC,IAAAA,QAAQ,EAAE,MAHN;AAIJC,IAAAA,eAAe,EAAE,SAJb;AAKJC,IAAAA,SAAS,EAAE,MALP;AAMJC,IAAAA,QAAQ,EAAE,kBANN;AAOJC,IAAAA,YAAY,EAAE;AAPV,GAD6B;AAUrCC,EAAAA,WAAW,EAAE;AACTC,IAAAA,SAAS,EAAE,MADF;AAETC,IAAAA,UAAU,EAAE;AAFH,GAVwB;AAcrCC,EAAAA,KAAK,EAAE;AACHC,IAAAA,OAAO,EAAEb,KAAK,CAACc,OAAN,CAAc,CAAd,CADN;AAEHJ,IAAAA,SAAS,EAAE,QAFR;AAGHP,IAAAA,KAAK,EAAE,OAHJ;AAIHE,IAAAA,eAAe,EAAE;AAJd,GAd8B;AAoBrCU,EAAAA,OAAO,EAAE;AACLC,IAAAA,aAAa,EAAE,OADV;AAELC,IAAAA,UAAU,EAAE;AAFP;AApB4B,CAAZ,CAAD,CAA5B;AA2BA,eAAe,SAASC,MAAT,GAAkB;AAC7B,QAAM;AAAEC,IAAAA,CAAF;AAAKC,IAAAA;AAAL,MAAc5B,cAAc,EAAlC;AACA,QAAM6B,OAAO,GAAGtB,SAAS,EAAzB;AACA,QAAM,CAACuB,KAAD,EAAQC,QAAR,IAAoBrC,QAAQ,EAAlC;AACA,QAAM,CAACsC,QAAD,EAAWC,WAAX,IAA0BvC,QAAQ,EAAxC;AACA,QAAM,CAACwC,KAAD,EAAQC,QAAR,IAAoBzC,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAM;AAAE0C,IAAAA;AAAF,MAAkBzC,UAAU,CAACI,WAAD,CAAlC;AACA,QAAMsC,OAAO,GAAGzC,UAAU,EAA1B;;AAEA,QAAM0C,MAAM,GAAG,MAAOC,CAAP,IAAY;AACvBA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAG;AACH,YAAMC,SAAS,GAAG;AAACX,QAAAA,KAAD;AAAQE,QAAAA;AAAR,OAAlB;AACA,YAAMU,QAAQ,GAAG,MAAM5C,KAAK,CAAC6C,IAAN,CAClB,GAAEC,eAAgB,aADA,EAEnBH,SAFmB,CAAvB;AAKAL,MAAAA,WAAW,CAAC;AACRS,QAAAA,KAAK,EAAEH,QAAQ,CAACI,IAAT,CAAcD,KADb;AAERE,QAAAA,IAAI,EAAEL,QAAQ,CAACI,IAAT,CAAcC;AAFZ,OAAD,CAAX;AAIAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCP,QAAQ,CAACI,IAAT,CAAcD,KAAjD;AACAR,MAAAA,OAAO,CAACa,IAAR,CAAa,WAAb,EAZG,CAaH;AACH,KAdG,CAcF,OAAOC,GAAP,EAAY;AACVA,MAAAA,GAAG,CAACC,QAAJ,CAAaN,IAAb,CAAkBO,GAAlB,IAAyBlB,QAAQ,CAACgB,GAAG,CAACC,QAAJ,CAAaN,IAAb,CAAkBO,GAAnB,CAAjC;AACH;AAEA,GApBD;;AAqBA,sBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFE,eAGG,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAExB,OAAO,CAACZ,WAAzB;AAAsC,IAAA,IAAI,MAA1C;AAA2C,IAAA,EAAE,EAAE,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,MAAd;AAAqB,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE,QAAb;AAAuBoC,MAAAA,KAAK,EAAC,GAA7B;AAAkCzC,MAAAA,eAAe,EAAC,SAAlD;AAA6DF,MAAAA,KAAK,EAAC,OAAnE;AAA4EK,MAAAA,YAAY,EAAC,CAAzF;AAA4FuC,MAAAA,MAAM,EAAC;AAAnG,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsI5B,CAAC,CAAC,oBAAD,CAAvI,CADJ,EAEKO,KAAK,iBACL,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAEA,KAAnB;AAA0B,IAAA,UAAU,EAAE,MAAMC,QAAQ,CAACqB,SAAD,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHL,eAKG;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAuB,IAAA,QAAQ,EAAElB,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,WAAD;AAAc,IAAA,SAAS,EAAC,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmCX,CAAC,CAAC,oBAAD,CAApC,CADJ,eAEI,oBAAC,KAAD;AACI,IAAA,EAAE,EAAC,aADP;AAEI,IAAA,IAAI,EAAC,OAFT;AAGI,IAAA,QAAQ,EAAGY,CAAD,IAAOR,QAAQ,CAACQ,CAAC,CAACkB,MAAF,CAASC,KAAV,CAH7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADD,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,eAUC,oBAAC,WAAD;AAAc,IAAA,SAAS,EAAC,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsC/B,CAAC,CAAC,uBAAD,CAAvC,CADJ,eAEI,oBAAC,KAAD;AACI,IAAA,EAAE,EAAC,gBADP;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,QAAQ,EAAGY,CAAD,IAAON,WAAW,CAACM,CAAC,CAACkB,MAAF,CAASC,KAAV,CAHhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAVD,eAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBF,eAmBP;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBO,CALH,CAHH,CADJ;AAiCH","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Axios from 'axios';\nimport UserContext from '../context/UserContext';\nimport { useTranslation } from 'react-i18next';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport Grid from '@material-ui/core/Grid';\nimport Errormsg from './errormsg';\nimport Nav from \"../nav\";\n\nconst useStyles = makeStyles((theme) => ({\n    button: {\n        margin: \"14px\",\n        color: \"black\",\n        fontSize: \"16px\",\n        backgroundColor: \"#57EBEB\",\n        minHeight: \"75px\",\n        minWidth: \"200px !important\",\n        borderRadius: \"46px\"\n    },\n    labelAligne: {\n        textAlign: \"left\",\n        marginLeft: 16\n    },\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: 'center',\n        color: 'white',\n        backgroundColor: '#eb57577a',\n    },\n    content: {\n        paddingBottom: \"600px\",\n        paddingTop: \"39px\",\n\n    }\n}));\n\nexport default function Login1() {\n    const { t, i18n } = useTranslation();\n    const classes = useStyles();\n    const [email, setEmail] = useState();\n    const [password, setPassword] = useState();\n    const [error, setError] = useState(\"\");\n\n    const { setUserData } = useContext(UserContext);\n    const history = useHistory();\n\n    const submit = async (e) =>{\n        e.preventDefault();\n        try{\n        const loginUser = {email, password};\n        const loginRes = await Axios.post(\n            `${BACK_SERVER_URL}/user/login`,\n            loginUser\n            );\n           \n        setUserData({\n            token: loginRes.data.token,\n            user: loginRes.data.user,\n        });\n        localStorage.setItem(\"auth-token\", loginRes.data.token);\n        history.push(\"/homepage\");\n        //window.location = '/homepage';\n    } catch (err) {\n        err.response.data.msg && setError(err.response.data.msg);\n    }\n        \n    }\n    return (\n        <div className=\"container\">\n            <Nav />\n      <br/>\n           <Grid className={classes.labelAligne} item xs={12}>\n               <h3 className=\"form\" style={{ textAlign: \"center\", width:700, backgroundColor:\"#f18888\", color:\"white\", borderRadius:5, height:53 }}>{t('registration.login')}</h3>\n               {error && (\n                <Errormsg message={error} clearError={() => setError(undefined)} />\n                )}\n              <form className=\"form\" onSubmit={submit}>\n               <FormControl  className=''>\n                   <InputLabel htmlFor=\"login-email\">{t('registration.email')}</InputLabel>\n                   <Input\n                       id=\"login-email\"\n                       type=\"email\"\n                       onChange={(e) => setEmail(e.target.value)}\n                   />\n               </FormControl>\n                <br/>\n               <FormControl  className=''>\n                   <InputLabel htmlFor=\"login-password\">{t('registration.password')}</InputLabel>\n                   <Input\n                       id=\"login-password\"\n                       type=\"password\"\n                       onChange={(e) => setPassword(e.target.value)}\n                   />\n               </FormControl>\n                <br/>\n       <input type=\"submit\" value=\"Submit\" />\n               </form>\n           </Grid>\n   </div>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}